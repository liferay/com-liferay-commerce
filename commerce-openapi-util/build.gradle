import com.liferay.gradle.util.GradleUtil

task generateRestModule(type: JavaExec)
task runClass(type: JavaExec)

dependencies {
	compile group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "2.6.7.1"
	compile group: "com.liferay", name: "com.liferay.petra.json.web.service.client", version: "11.0.0"
	compile group: "org.apache.httpcomponents", name: "httpasyncclient", version: "4.1.3"
	compile group: "org.apache.httpcomponents", name: "httpclient", version: "4.5.3"
	compile group: "org.apache.httpcomponents", name: "httpcore", version: "4.4.6"
	compile group: "org.apache.httpcomponents", name: "httpcore-nio", version: "4.4.6"
	compile group: "org.slf4j", name: "slf4j-api", version: "1.7.2"
	compile group: "org.slf4j", name: "slf4j-log4j12", version: "1.7.2"

	compileOnly group: "com.fasterxml.jackson.core", name: "jackson-core", version: "2.6.7"
}

generateRestModule {
	classpath = sourceSets.main.runtimeClasspath
	main = "com.liferay.commerce.openapi.util.generator.OSGiRESTModuleGenerator"

	jvmArgs "-Dlog4j.configuration=log4j.xml"
}

runClass {
	classpath = sourceSets.main.runtimeClasspath
	main = GradleUtil.getProperty(project, "mainClass", "")

	jvmArgs "-Dlog4j.configuration=log4j.xml"
}