import com.liferay.gradle.util.GradleUtil

dependencies {
	compileOnly group: "com.fasterxml.jackson.core", name: "jackson-core", version: "2.6.7"
	compileOnly group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "2.6.7.1"
	compileOnly group: "com.fasterxml.jackson.dataformat", name: "jackson-dataformat-cbor", version: "2.4.2"
	compileOnly group: "com.liferay", name: "com.liferay.petra.json.web.service.client", version: "11.0.0"
	compileOnly group: "org.apache.httpcomponents", name: "httpclient", version: "4.5.2"
	compileOnly group: "org.apache.httpcomponents", name: "httpcore", version: "4.4.5"
	compileOnly group: "org.apache.logging.log4j", name: "log4j-api", version: "2.11.1"
	compileOnly group: "org.apache.logging.log4j", name: "log4j-core", version: "2.11.1"
	compileOnly group: "org.slf4j", name: "slf4j-api", version: "1.7.2"

	runtime group: "com.fasterxml.jackson.core", name: "jackson-annotations", version: "2.6.7"
	runtime group: "com.fasterxml.jackson.core", name: "jackson-core", version: "2.6.7"
	runtime group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "2.6.7.1"
	runtime group: "com.liferay", name: "com.liferay.petra.json.web.service.client", version: "11.0.0"
	runtime group: "commons-codec", name: "commons-codec", version: "1.7"
	runtime group: "org.apache.httpcomponents", name: "httpasyncclient", version: "4.1.3"
	runtime group: "org.apache.httpcomponents", name: "httpclient", version: "4.5.3"
	runtime group: "org.apache.httpcomponents", name: "httpcore", version: "4.4.6"
	runtime group: "org.apache.httpcomponents", name: "httpcore-nio", version: "4.4.6"
	runtime group: "org.apache.logging.log4j", name: "log4j-api", version: "2.11.1"
	runtime group: "org.apache.logging.log4j", name: "log4j-core", version: "2.11.1"
	runtime group: "org.slf4j", name: "slf4j-api", version: "1.7.2"
	runtime group: "org.slf4j", name: "slf4j-log4j12", version: "1.7.2"
}

task("runClass", type: JavaExec) {
	main = GradleUtil.getProperty(project, "mainClass", "")

	classpath = sourceSets.main.runtimeClasspath

	jvmArgs "-Dlog4j.configuration=log4j.xml"
}